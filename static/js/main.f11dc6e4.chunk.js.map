{"version":3,"sources":["three/threeSlideshow.js","components/ThreeSlideshow.jsx","assets/images/sample-1.jpg","assets/images/sample-2.jpg","App.jsx","index.js"],"names":["Slideshow","window","containerElement","images","this","isAnimating","setupScene","drawInitial","initHelpers","addEventListener","onWindowResize","renderer","render","scene","camera","THREE","innerWidth","innerHeight","antialias","setClearColor","setSize","appendChild","domElement","position","z","axesHelper","add","geometry","texture","load","url","anisotropy","capabilities","getMaxAnisotropy","generateMipmaps","minFilter","needsUpdate","material","map","side","texture2","wrapS","repeat","x","material2","group","plane","plane2","target","Math","PI","rotation","y","requestAnimationFrame","customAnimate","bind","aspect","updateProjectionMatrix","ThreeSlideshow","fullResImages","slideshowContainerRef","useRef","slideshowRef","useEffect","current","ref","className","onClick","test","src","style","height","width","App","img1","img2","sliderComponent","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f11dc6e4.chunk.js","sourcesContent":["import * as THREE from \"three\";\n\nclass Slideshow {\n  constructor(window, containerElement, images) {\n    this.containerElement = containerElement;\n    this.images = images;\n    this.window = window;\n    this.isAnimating = false;\n\n    this.setupScene();\n    this.drawInitial();\n    this.initHelpers();\n    this.window.addEventListener(\"resize\", () => this.onWindowResize());\n\n    this.renderer.render(this.scene, this.camera);\n  }\n\n  setupScene() {\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.PerspectiveCamera(\n      75,\n      this.window.innerWidth / this.window.innerHeight,\n      0.1,\n      2000\n    );\n    this.renderer = new THREE.WebGLRenderer({ antialias: true });\n    // TODO: Set size\n    // TODO: Set background color\n    this.renderer.setClearColor(0xffffff);\n    // this.renderer.setPixelRatio(window.devicePixelRatio * 2);\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.containerElement.appendChild(this.renderer.domElement);\n    this.camera.position.z = 500;\n  }\n\n  initHelpers() {\n    const axesHelper = new THREE.AxesHelper(5);\n    this.scene.add(axesHelper);\n  }\n\n  drawInitial() {\n    // TODO: Something with loading manager\n    // TODO: Lazy loading?\n    // TODO: Use texture.offset?\n\n    const geometry = new THREE.PlaneGeometry(940, 650);\n    const texture = new THREE.TextureLoader().load(this.images[0].url);\n    texture.anisotropy = this.renderer.capabilities.getMaxAnisotropy();\n    texture.generateMipmaps = false;\n    texture.minFilter = THREE.LinearFilter;\n    texture.needsUpdate = true;\n    const material = new THREE.MeshBasicMaterial({\n      map: texture,\n      side: THREE.FrontSide,\n    });\n    const texture2 = new THREE.TextureLoader().load(this.images[1].url);\n    // Hacky FlipX\n    texture2.wrapS = THREE.RepeatWrapping;\n    texture2.repeat.x = -1;\n\n    // Gets rid of blurry effect when mid rotation and different distance to camera\n    texture2.anisotropy = this.renderer.capabilities.getMaxAnisotropy();\n    // Slightly higher quality but barely\n    // Sharpens image too much?\n    // texture2.generateMipmaps = false;\n    // texture2.minFilter = THREE.LinearFilter;\n    // texture2.needsUpdate = true;\n    const material2 = new THREE.MeshBasicMaterial({\n      map: texture2,\n      side: THREE.BackSide,\n    });\n    this.group = new THREE.Group();\n    this.plane = new THREE.Mesh(geometry, material);\n    this.plane2 = new THREE.Mesh(geometry, material2);\n    this.group.add(this.plane2);\n    this.group.add(this.plane);\n    this.scene.add(this.group);\n  }\n\n  customAnimate(target) {\n    // TODO: An optimization would be to set rotation speed relative to pi\n    //       Then the final adjustment would be extremely small;\n    if (target > Math.PI) {\n      this.isAnimating = false;\n      // TODO: This is hardcoded\n      this.group.rotation.y = Math.PI;\n    } else {\n      target += 0.01;\n      this.group.rotation.y += 0.01;\n      requestAnimationFrame(this.customAnimate.bind(this, target));\n    }\n    this.renderer.render(this.scene, this.camera);\n  }\n\n  onWindowResize() {\n    this.renderer.setSize(this.window.innerWidth, this.window.innerHeight);\n    this.camera.aspect = this.window.innerWidth / this.window.innerHeight;\n\n    this.camera.updateProjectionMatrix();\n  }\n\n  test() {\n    this.customAnimate(0);\n    this.isAnimating = true;\n  }\n}\n\nexport default Slideshow;\n","import React, { useEffect, useRef } from \"react\";\nimport Slideshow from \"../three/threeSlideshow\";\n\nconst ThreeSlideshow = ({ images, fullResImages }) => {\n  const slideshowContainerRef = useRef();\n  const slideshowRef = useRef();\n\n  useEffect(() => {\n    slideshowRef.current = new Slideshow(\n      window,\n      slideshowContainerRef.current,\n      // images\n      fullResImages\n    );\n  }, []);\n\n  return (\n    <section ref={slideshowContainerRef} className=\"three-slideshow-container\">\n      <button onClick={() => slideshowRef.current.test()}>\n        Something lmao\n      </button>\n      <img src={images[1].url} style={{ height: 650, width: 940 }} />\n    </section>\n  );\n};\n\nexport default ThreeSlideshow;\n","export default __webpack_public_path__ + \"static/media/sample-1.d9dd80e9.jpg\";","export default __webpack_public_path__ + \"static/media/sample-2.bfa9c10b.jpg\";","import React from \"react\";\nimport ThreeSlideshow from \"./components/ThreeSlideshow\";\n// import Slider from \"./components/Slider\";\n// import WebGlSlider from \"./components/WebGlSlider\";\n// Need to do this because of bundler\nimport img1 from \"./assets/images/sample-1.jpg\";\nimport img2 from \"./assets/images/sample-2.jpg\";\n\nconst App = () => {\n  const images = [\n    {\n      url:\n        \"https://images.pexels.com/photos/2187622/pexels-photo-2187622.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\",\n    },\n    {\n      url:\n        \"https://images.pexels.com/photos/2187662/pexels-photo-2187662.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\",\n    },\n    {\n      url:\n        \"https://images.pexels.com/photos/5220130/pexels-photo-5220130.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\",\n    },\n    {\n      url:\n        \"https://images.pexels.com/photos/2131687/pexels-photo-2131687.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\",\n    },\n    {\n      url:\n      \"https://images.pexels.com/photos/3408354/pexels-photo-3408354.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\",\n    },\n    {\n      url:\n      \"https://images.pexels.com/photos/2187603/pexels-photo-2187603.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\",\n    },\n  ];\n  \n  const fullResImages = [\n    { url: img1 },\n    { url: img2 },\n  ]\n\n  // TODO: Timing function option\n  // const options = {\n  //   width: 600, //px\n  //   height: 400, //px\n  //   perspective: 1000, //px, > width\n  //   rows: 5,\n  //   cols: 9,\n  //   rowConfig: {\n  //     fromTop: false, // bool, default: true\n  //     delay: 100,\n  //   },\n  //   colConfig: {\n  //     fromLeft: true, // bool, default: true\n  //     delay: 100,\n  //   },\n  //   pauseOnBlur: true, //default: true\n  // };\n\n  const sliderComponent = <ThreeSlideshow images={images} fullResImages={fullResImages} />;\n\n  return <div className=\"App\">{sliderComponent}</div>;\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}