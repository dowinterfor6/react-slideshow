{"version":3,"sources":["components/SliderPart.jsx","components/Slider.jsx","App.jsx","assets/images/sample-1.jpg","assets/images/sample-2.jpg","index.js"],"names":["SliderPart","images","rotation","backgroundPosition","width","transitionDelay","height","useState","isFrontImage","setIsFrontImage","useEffect","frontImageUrl","backImageUrl","x","y","url","frontStyle","backgroundImage","backgroundSize","backStyle","className","style","transform","Slider","options","setRotation","rotationRef","useRef","rows","cols","perspective","rowDelay","colDelay","currSlideshowIdx","setCurrSlideshowIdx","currSlideshowIdxRef","gridTemplateColumns","gridTemplateRows","sliderParts","i","j","currImages","length","push","current","setInterval","document","hasFocus","map","part","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.90eabe9c.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\n\nconst SliderPart = ({\n  images,\n  rotation,\n  backgroundPosition,\n  width,\n  transitionDelay,\n  height,\n}) => {\n  const [isFrontImage, setIsFrontImage] = useState(true);\n\n  useEffect(() => {\n    setIsFrontImage(!isFrontImage);\n  }, [rotation]);\n\n  const { x, y } = backgroundPosition;\n  let frontImageUrl, backImageUrl;\n\n  if (isFrontImage) {\n    frontImageUrl = images[0].url;\n    backImageUrl = images[1].url;\n  } else {\n    frontImageUrl = images[1].url;\n    backImageUrl = images[0].url;\n  }\n\n  const frontStyle = {\n    backgroundImage: `url(${frontImageUrl})`,\n    backgroundPosition: `-${x}px -${y}px`,\n    backgroundSize: `${width}px ${height}px`,\n  };\n\n  const backStyle = {\n    backgroundImage: `url(${backImageUrl})`,\n    backgroundPosition: `-${x}px -${y}px`,\n    backgroundSize: `${width}px ${height}px`,\n  };\n\n  return (\n    // This is actually a part, not the whole slider\n    <div\n      className=\"slider\"\n      style={{\n        transform: `rotateY(${rotation}deg)`,\n        transitionDelay: `${transitionDelay}ms`,\n      }}\n    >\n      <div className=\"card front\" style={frontStyle}></div>\n      <div className=\"card back\" style={backStyle}></div>\n    </div>\n  );\n};\n\nexport default SliderPart;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport SliderPart from \"./SliderPart\";\n\nconst Slider = ({ images, options }) => {\n  const [rotation, setRotation] = useState(0);\n  const rotationRef = useRef();\n  const {\n    width,\n    height,\n    rows,\n    cols,\n    perspective,\n    rowDelay,\n    colDelay,\n  } = options;\n  const [currSlideshowIdx, setCurrSlideshowIdx] = useState(0);\n  const currSlideshowIdxRef = useRef();\n\n  const gridTemplateColumns = `repeat(${cols}, 1fr)`;\n  const gridTemplateRows = `repeat(${rows}, 1fr)`;\n\n  // TODO: This should be an option\n  const transitionDuration = 1000;\n  // Delay = relative to transitionDuration?\n\n  const sliderParts = [];\n  for (let i = 0; i < rows; i++) {\n    for (let j = 0; j < cols; j++) {\n      const backgroundPosition = {\n        x: (width / cols) * j,\n        y: (height / rows) * i,\n      };\n      const currImages = [\n        images[currSlideshowIdx % images.length],\n        images[(currSlideshowIdx + 1) % images.length],\n      ];\n\n      const transitionDelay =\n        (rows - 1 - j) * rowDelay + (cols - 1 - i) * colDelay;\n      // TODO: Am I recreating this component every single time?\n      sliderParts.push(\n        <SliderPart\n          images={currImages}\n          rotation={rotation}\n          width={width}\n          height={height}\n          backgroundPosition={backgroundPosition}\n          transitionDelay={transitionDelay}\n          key={`part-row-${i}-col-${j}`}\n        />\n      );\n    }\n  }\n\n  // On Mount\n  useEffect(() => {\n    rotationRef.current = rotation;\n    currSlideshowIdxRef.current = currSlideshowIdx;\n\n    setInterval(() => {\n      // TODO: Prevents \"catch up\", but returns false when on second monitor\n      if (document.hasFocus()) {\n        setRotation(rotationRef.current - 180);\n        rotationRef.current -= 180;\n\n        setCurrSlideshowIdx(currSlideshowIdxRef.current + 1);\n        currSlideshowIdxRef.current++;\n      }\n    }, 3000);\n  }, []);\n\n  return (\n    <section\n      style={{\n        width,\n        height,\n        perspective,\n        gridTemplateColumns,\n        gridTemplateRows,\n      }}\n      className=\"slider-container\"\n    >\n      {sliderParts.map((part) => part)}\n    </section>\n  );\n};\n\nexport default Slider;\n","import React from \"react\";\nimport Slider from \"./components/Slider\";\n// Need to do this because of bundler\nimport img1 from \"./assets/images/sample-1.jpg\";\nimport img2 from \"./assets/images/sample-2.jpg\";\n\nconst App = () => {\n  const images = [\n    {\n      url:\n        \"https://images.pexels.com/photos/2187622/pexels-photo-2187622.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\",\n    },\n    {\n      url:\n        \"https://images.pexels.com/photos/2187662/pexels-photo-2187662.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\",\n    },\n    {\n      url:\n        \"https://images.pexels.com/photos/5220130/pexels-photo-5220130.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\",\n    },\n    {\n      url:\n        \"https://images.pexels.com/photos/2131687/pexels-photo-2131687.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\",\n    },\n    // { url: img1 },\n    // { url: img2 },\n    {\n      url:\n        \"https://images.pexels.com/photos/3408354/pexels-photo-3408354.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\",\n    },\n    {\n      url:\n        \"https://images.pexels.com/photos/2187603/pexels-photo-2187603.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\",\n    },\n  ];\n\n  // TODO: Timing function option\n  const options = {\n    width: 600, //px\n    height: 400, //px\n    perspective: 1000, //px, > width\n    rows: 5,\n    cols: 9,\n    rowDelay: 100,\n    colDelay: 100,\n  };\n\n  return (\n    <div className=\"App\">\n      <Slider images={images} options={options} />\n    </div>\n  );\n};\n\nexport default App;\n","export default __webpack_public_path__ + \"static/media/sample-1.d9dd80e9.jpg\";","export default __webpack_public_path__ + \"static/media/sample-2.bfa9c10b.jpg\";","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}